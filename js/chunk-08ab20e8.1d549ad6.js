(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08ab20e8"],{1728:function(t,e,s){},2780:function(t,e,s){"use strict";s("1728")},"304e":function(t,e,s){t.exports=s.p+"img/admin-deletetweet.9ddd0988.svg"},5346:function(t,e,s){},9965:function(t,e,s){},aaf1:function(t,e,s){"use strict";s("5346")},e0cc:function(t,e,s){"use strict";s("9965")},fa6a:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-admin"},[e("AdminNavBar"),e("AdminUserTweets")],1)},i=[],n=s("fc06"),c=function(){var t=this,e=t._self._c;return e("section",{staticClass:"admin-section"},[t._m(0),t.isLoading?e("Spinner"):e("div",{staticClass:"admin-tweet-container scrollbar"},t._l(t.tweets,(function(a){return e("div",{key:a.id,staticClass:"admin-tweet"},[e("div",{staticClass:"avatar"},[e("img",{staticClass:"avatarImg",attrs:{src:t._f("emptyImage")(a.avatarOfUser),alt:""}})]),e("div",{staticClass:"tweet-info"},[e("div",{staticClass:"tweet-user"},[e("span",{staticClass:"tweet-user name"},[t._v(t._s(a.nameOfUser))]),e("span",{staticClass:"tweet-user account"},[t._v("@"+t._s(a.account)+" ・"+t._s(t._f("fromNow")(a.createdAt)))])]),e("p",{staticClass:"tweet-content"},[t._v(" "+t._s(a.description)+" ")])]),e("button",{staticClass:"tweet-close",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteAdminTweet(a.id)}}},[e("img",{staticClass:"icon-close",attrs:{src:s("304e"),alt:""}})])])})),0)],1)},r=[function(){var t=this,e=t._self._c;return e("header",{staticClass:"admin-header"},[e("h4",[t._v("推文清單")])])}],o=(s("d9e2"),s("be6c")),d=s("2fa3"),l=s("ac0d"),u=s("b222"),f={mixins:[l["b"],l["c"]],components:{Spinner:u["a"]},data(){return{tweets:{},isLoading:!0}},created(){this.fetchAdmintweets()},methods:{async fetchAdmintweets(){try{const t=await o["a"].getAdmintweets();this.tweets=[...t.data.tweets],this.isLoading=!1}catch(t){this.isLoading=!1,d["a"].fire({icon:"warning",title:"無法取得推文管理清單，請稍後再試"})}},async deleteAdminTweet(t){try{const e=window.confirm("確定刪除此推文嗎？");if(!0!==e)return;{const{data:e}=await o["a"].deleteAdminTweet({tweetId:t});if("success"!==e.status)throw new Error(e.message);this.tweets=this.tweets.filter(e=>e.id!==t),d["a"].fire({icon:"success",title:"刪除推文成功"})}}catch(e){d["a"].fire({icon:"warning",title:"無法刪除推文，請稍後再試"})}}}},v=f,m=(s("aaf1"),s("2877")),w=Object(m["a"])(v,c,r,!1,null,"605f3bf4",null),p=w.exports,h={components:{AdminNavBar:n["a"],AdminUserTweets:p}},_=h,g=(s("e0cc"),Object(m["a"])(_,a,i,!1,null,"7a576fdc",null));e["default"]=g.exports},fc06:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"navbar"},[e("div",{staticClass:"top"},[e("div",{staticClass:"logo"},[e("router-link",{attrs:{to:"/admin/tweets"}},[e("img",{attrs:{src:s("7107"),alt:""}})])],1),e("nav",{staticClass:"navigation"},[e("div",[e("router-link",{staticClass:"nav-item index",attrs:{to:"/admin/tweets"}},[e("div",{staticClass:"icon"},["admin-tweets"===t.NavbarStatus?e("IconIndexActive"):t._e(),"admin-tweets"!==t.NavbarStatus?e("IconIndex"):t._e()],1),e("h5",[t._v("推文清單")])])],1),e("div",[e("router-link",{staticClass:"nav-item user-profile",attrs:{to:"/admin/users"}},[e("div",{staticClass:"icon"},["admin-users"===t.NavbarStatus?e("UserProfileActive"):t._e(),"admin-users"!==t.NavbarStatus?e("UserProfile"):t._e()],1),e("h5",[t._v("使用者列表")])])],1)])]),e("div",{staticClass:"down"},[e("div",[e("button",{staticClass:"logout",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logout.apply(null,arguments)}}},[e("div",{staticClass:"icon"},[e("Logout")],1),e("h5",[t._v("登出")])])])])])},i=[],n=s("b087"),c=s("d443"),r=s("3036"),o=s("3909"),d=s("3246"),l={components:{IconIndex:n["a"],IconIndexActive:c["a"],UserProfile:r["a"],UserProfileActive:o["a"],Logout:d["a"]},data(){return{NavbarStatus:this.$router.currentRoute.name}},methods:{logout(){this.$store.commit("revokeAuthentication"),this.$router.push("/admin/signin")}}},u=l,f=(s("2780"),s("2877")),v=Object(f["a"])(u,a,i,!1,null,"425703db",null);e["a"]=v.exports}}]);
//# sourceMappingURL=chunk-08ab20e8.1d549ad6.js.map