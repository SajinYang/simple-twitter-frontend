{"version":3,"sources":["webpack:///./src/components/TweetFollow.vue","webpack:///src/components/TweetFollow.vue","webpack:///./src/components/TweetFollow.vue?f972","webpack:///./src/components/TweetFollow.vue?b1e6","webpack:///./src/assets/icon/tweet-back.svg","webpack:///./src/components/TweetFollow.vue?d951","webpack:///./src/views/UserFollower.vue","webpack:///src/views/UserFollower.vue","webpack:///./src/views/UserFollower.vue?7867","webpack:///./src/views/UserFollower.vue?21cc","webpack:///./src/views/UserFollower.vue?2ab5"],"names":["render","_vm","this","_c","_self","staticClass","followStatus","_l","followers","follower","key","followerId","attrs","name","params","id","_f","userAvatarOfFollower","_v","_s","userNameOfFollower","userInrtoductionOfFollower","isFollowing","isProcessing","on","$event","stopPropagation","preventDefault","deleteFollowing","addFollowing","_e","followings","following","followingId","userAvatarOfFollowing","userNameOfFollowing","userInrtoductionOfFollowing","staticRenderFns","props","type","default","required","require","data","mixins","methods","Toast","icon","title","computed","component","module","exports","$router","back","profile","tweetsCounts","class","active","toggleFollowStatus","isLoading","components","NavBar","TweetPopularUser","TweetFollow","Spinner","account","created","beforeRouteUpdate","next","userId"],"mappings":"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","file":"js/chunk-23be7240.c128a6bc.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"follow-section\"},[(_vm.followStatus === 'follower')?_c('div',{staticClass:\"follow-container\"},_vm._l((_vm.followers),function(follower){return _c('div',{key:follower.followerId,staticClass:\"follow\"},[_c('router-link',{staticClass:\"avatar\",attrs:{\"to\":{ name: 'user', params: { id: follower.followerId } }}},[_c('img',{staticClass:\"avatarImg\",attrs:{\"src\":_vm._f(\"emptyImage\")(follower.userAvatarOfFollower),\"alt\":\"\"}})]),_c('div',{staticClass:\"follow-info\"},[_c('router-link',{staticClass:\"follow-user\",attrs:{\"to\":{ name: 'user', params: { id: follower.followerId } }}},[_c('span',{staticClass:\"follow-user name\"},[_vm._v(_vm._s(follower.userNameOfFollower))])]),_c('p',{staticClass:\"follow-content\"},[_vm._v(\" \"+_vm._s(follower.userInrtoductionOfFollower)+\" \")])],1),_c('div',{staticClass:\"popular-user-btn\"},[(!follower.isFollowing)?_c('button',{staticClass:\"btn toggle-follow\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowing(follower.followerId)}}},[_vm._v(\" 跟隨 \")]):_c('button',{staticClass:\"btn toggle-follow following\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowing(follower.followerId)}}},[_vm._v(\" 正在跟隨 \")])])],1)}),0):_vm._e(),(_vm.followStatus === 'following')?_c('div',{staticClass:\"follow-container\"},_vm._l((_vm.followings),function(following){return _c('div',{key:following.followingId,staticClass:\"follow\"},[_c('router-link',{staticClass:\"avatar\",attrs:{\"to\":{ name: 'user', params: { id: following.followingId } }}},[_c('img',{staticClass:\"avatarImg\",attrs:{\"src\":_vm._f(\"emptyImage\")(following.userAvatarOfFollowing),\"alt\":\"\"}})]),_c('div',{staticClass:\"follow-info\"},[_c('div',{staticClass:\"follow-user\"},[_c('router-link',{staticClass:\"follow-user name\",attrs:{\"to\":{ name: 'user', params: { id: following.followingId } }}},[_vm._v(_vm._s(following.userNameOfFollowing))])],1),_c('p',{staticClass:\"follow-content\"},[_vm._v(\" \"+_vm._s(following.userInrtoductionOfFollowing)+\" \")])]),_c('div',{staticClass:\"popular-user-btn\"},[(!following.isFollowing)?_c('button',{staticClass:\"btn toggle-follow\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowing(following.followingId)}}},[_vm._v(\" 跟隨 \")]):_c('button',{staticClass:\"btn toggle-follow following\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowing(following.followingId)}}},[_vm._v(\" 正在跟隨 \")])])],1)}),0):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"follow-section\">\r\n    <div v-if=\"followStatus === 'follower'\" class=\"follow-container\">\r\n      <div\r\n        v-for=\"follower of followers\"\r\n        :key=\"follower.followerId\"\r\n        class=\"follow\"\r\n      >\r\n        <router-link class=\"avatar\" :to=\"{ name: 'user', params: { id: follower.followerId } }\">\r\n          <img class=\"avatarImg\" :src=\"follower.userAvatarOfFollower | emptyImage\" alt=\"\" />\r\n        </router-link>\r\n        <div class=\"follow-info\">\r\n          <router-link class=\"follow-user\" :to=\"{ name: 'user', params: { id: follower.followerId } }\">\r\n            <span class=\"follow-user name\">{{\r\n              follower.userNameOfFollower\r\n            }}</span>\r\n          </router-link>\r\n          <p class=\"follow-content\">\r\n            {{ follower.userInrtoductionOfFollower }}\r\n          </p>\r\n        </div>\r\n        <div class=\"popular-user-btn\">\r\n          <button\r\n            v-if=\"!follower.isFollowing\"\r\n            class=\"btn toggle-follow\"\r\n            @click.stop.prevent=\"addFollowing(follower.followerId)\" :disabled=\"isProcessing\"\r\n          >\r\n            跟隨\r\n          </button>\r\n\r\n          <button\r\n            v-else\r\n            class=\"btn toggle-follow following\"\r\n            @click.stop.prevent=\"deleteFollowing(follower.followerId)\" :disabled=\"isProcessing\"\r\n          >\r\n            正在跟隨\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"followStatus === 'following'\" class=\"follow-container\">\r\n      <div\r\n        v-for=\"following of followings\"\r\n        :key=\"following.followingId\"\r\n        class=\"follow\"\r\n      >\r\n        <router-link class=\"avatar\" :to=\"{ name: 'user', params: { id: following.followingId } }\">\r\n          <img class=\"avatarImg\" :src=\"following.userAvatarOfFollowing | emptyImage\" alt=\"\" />\r\n        </router-link>\r\n        <div class=\"follow-info\">\r\n          <div class=\"follow-user\">\r\n            <router-link class=\"follow-user name\" :to=\"{ name: 'user', params: { id: following.followingId } }\">{{\r\n              following.userNameOfFollowing\r\n            }}</router-link>\r\n          </div>\r\n          <p class=\"follow-content\">\r\n            {{ following.userInrtoductionOfFollowing }}\r\n          </p>\r\n        </div>\r\n        <div class=\"popular-user-btn\">\r\n          <button\r\n            v-if=\"!following.isFollowing\"\r\n            class=\"btn toggle-follow\"\r\n            @click.stop.prevent=\"addFollowing(following.followingId)\" :disabled=\"isProcessing\"\r\n          >\r\n            跟隨\r\n          </button>\r\n\r\n          <button\r\n            v-else\r\n            class=\"btn toggle-follow following\"\r\n            @click.stop.prevent=\"deleteFollowing(following.followingId)\" :disabled=\"isProcessing\"\r\n          >\r\n            正在跟隨\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport followshipAPI from '../apis/followship'\r\nimport { emptyImageFilter } from '../utils/mixin'\r\nimport { mapState } from 'vuex'\r\nimport { Toast } from '../utils/helpers'\r\n\r\nexport default {\r\n  props: {\r\n    followStatus: {\r\n      type: String,\r\n      default: 'follower',\r\n      required: true\r\n    },\r\n    followers: {\r\n      type: Array,\r\n      require: true\r\n    },\r\n    followings: {\r\n      type: Array,\r\n      require: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      isProcessing: false\r\n    }\r\n  },\r\n  mixins: [emptyImageFilter],\r\n  methods: {\r\n    async addFollowing (id) {\r\n      try {\r\n        this.isProcessing = true\r\n        const { data } = await followshipAPI.addFollow({ id })\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        if (this.followStatus === 'following') {\r\n          this.followings = this.followings.map((following) => {\r\n            if (following.followingId !== id) {\r\n              return following\r\n            } else {\r\n              return {\r\n                ...following,\r\n                isFollowing: true\r\n              }\r\n            }\r\n          })\r\n        }\r\n        if (this.followStatus === 'follower') {\r\n          this.followers = this.followers.map((follower) => {\r\n            if (follower.followerId !== id) {\r\n              return follower\r\n            } else {\r\n              return {\r\n                ...follower,\r\n                isFollowing: true\r\n              }\r\n            }\r\n          })\r\n        }\r\n        Toast.fire({\r\n          icon: 'success',\r\n          title: '追蹤成功'\r\n        })\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法追蹤成功，請稍後再試'\r\n        })\r\n      }\r\n    },\r\n    async deleteFollowing (id) {\r\n      try {\r\n        this.isProcessing = true\r\n        const { data } = await followshipAPI.deleteFollow({ id })\r\n\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        if (this.followStatus === 'following') {\r\n          this.followings = this.followings.map((following) => {\r\n            if (following.followingId !== id) {\r\n              return following\r\n            } else {\r\n              return {\r\n                ...following,\r\n                isFollowing: false\r\n              }\r\n            }\r\n          })\r\n        }\r\n\r\n        if (this.followStatus === 'follower') {\r\n          this.followers = this.followers.map((follower) => {\r\n            if (follower.followerId !== id) {\r\n              return follower\r\n            } else {\r\n              return {\r\n                ...follower,\r\n                isFollowing: false\r\n              }\r\n            }\r\n          })\r\n        }\r\n        Toast.fire({\r\n          icon: 'success',\r\n          title: '已取消追蹤'\r\n        })\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法追蹤成功，請稍後再試'\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.follow-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.follow-container {\r\n  width: 100%;\r\n}\r\n\r\n.follow {\r\n  display: grid;\r\n  grid-template-columns: 50px auto;\r\n  grid-gap: 15px;\r\n  width: 100%;\r\n  min-height: 100px;\r\n  padding: 10px 20px;\r\n  border-bottom: 1px solid var(--border);\r\n  position: relative;\r\n}\r\n\r\n.toggle-follow {\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 0;\r\n}\r\n\r\n.follow-content {\r\n  line-height: 24px;\r\n  color: var(--dark-100);\r\n  font-weight: 400;\r\n}\r\n\r\n.avatar {\r\n  border-radius: 50%;\r\n}\r\n\r\n.follow-info {\r\n  display: grid;\r\n  grid-template-rows: 50px auto;\r\n  width: 85%;\r\n}\r\n\r\n.follow-user {\r\n  height: 100%;\r\n}\r\n\r\n.follow-user.name {\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 700;\r\n  color: var(--dark-100);\r\n}\r\n\r\n.follow-user.account {\r\n  margin: 0 10px;\r\n  font-size: 14px;\r\n  color: var(--secondary);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetFollow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetFollow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetFollow.vue?vue&type=template&id=888870da&scoped=true&\"\nimport script from \"./TweetFollow.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetFollow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetFollow.vue?vue&type=style&index=0&id=888870da&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"888870da\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/tweet-back.6008f2d3.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetFollow.vue?vue&type=style&index=0&id=888870da&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container-twitter\"},[_c('NavBar'),_c('section',{staticClass:\"center-section\"},[_c('header',{staticClass:\"follow-header\"},[_c('div',{staticClass:\"header-top\"},[_c('img',{staticClass:\"icon-back\",attrs:{\"src\":require(\"../assets/icon/tweet-back.svg\"),\"alt\":\"\"},on:{\"click\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"title-container\"},[_c('h5',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.profile.name))]),_c('span',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.profile.tweetsCounts)+\" 推文\")])])]),_c('div',{staticClass:\"navtabs\"},[_c('button',{staticClass:\"button-navtabs\",class:{ active: _vm.followStatus === 'follower' },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.toggleFollowStatus('follower')}}},[_c('span',{staticClass:\"subtitle\",class:{ active: _vm.followStatus === 'follower' }},[_vm._v(\"追隨者\")])]),_c('button',{staticClass:\"button-navtabs\",class:{ active: _vm.followStatus === 'following' },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.toggleFollowStatus('following')}}},[_c('span',{staticClass:\"subtitle\",class:{ active: _vm.followStatus === 'following' }},[_vm._v(\"正在追隨\")])])])]),(_vm.isLoading)?_c('Spinner'):_c('div',{staticClass:\"follow-center-container scrollbar\"},[_c('TweetFollow',{attrs:{\"followStatus\":_vm.followStatus,\"followers\":_vm.followers,\"followings\":_vm.followings}})],1)],1),_c('TweetPopularUser')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container-twitter\">\r\n    <NavBar />\r\n    <section class=\"center-section\">\r\n      <header class=\"follow-header\">\r\n        <div class=\"header-top\">\r\n          <img\r\n            @click=\"$router.back()\"\r\n            class=\"icon-back\"\r\n            src=\"../assets/icon/tweet-back.svg\"\r\n            alt=\"\"\r\n          />\r\n          <div class=\"title-container\">\r\n            <h5 class=\"title\">{{ profile.name }}</h5>\r\n            <span class=\"subtitle\">{{ profile.tweetsCounts }} 推文</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"navtabs\">\r\n          <button\r\n            class=\"button-navtabs\"\r\n            :class=\"{ active: followStatus === 'follower' }\"\r\n            @click.stop.prevent=\"toggleFollowStatus('follower')\"\r\n          >\r\n            <span\r\n              class=\"subtitle\"\r\n              :class=\"{ active: followStatus === 'follower' }\"\r\n              >追隨者</span\r\n            >\r\n          </button>\r\n          <button\r\n            class=\"button-navtabs\"\r\n            :class=\"{ active: followStatus === 'following' }\"\r\n            @click.stop.prevent=\"toggleFollowStatus('following')\"\r\n          >\r\n            <span\r\n              class=\"subtitle\"\r\n              :class=\"{ active: followStatus === 'following' }\"\r\n              >正在追隨</span\r\n            >\r\n          </button>\r\n        </div>\r\n      </header>\r\n      <Spinner v-if=\"isLoading\" />\r\n      <div v-else class=\"follow-center-container scrollbar\">\r\n        <TweetFollow\r\n          :followStatus=\"followStatus\"\r\n          :followers=\"followers\"\r\n          :followings=\"followings\"\r\n        />\r\n      </div>\r\n    </section>\r\n    <TweetPopularUser />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from '../components/NavBar.vue'\r\nimport TweetPopularUser from '../components/TweetPopularUser.vue'\r\nimport TweetFollow from '../components/TweetFollow.vue'\r\nimport usersAPI from '../apis/users'\r\nimport { Toast } from '../utils/helpers'\r\nimport Spinner from '../components/Spinner1.vue'\r\n\r\nexport default {\r\n  components: {\r\n    NavBar,\r\n    TweetPopularUser,\r\n    TweetFollow,\r\n    Spinner\r\n  },\r\n  data () {\r\n    return {\r\n      followStatus: 'follower',\r\n      followers: [],\r\n      followings: [],\r\n      profile: {\r\n        id: -1,\r\n        account: '',\r\n        name: '',\r\n        tweetsCounts: 0\r\n      },\r\n      isLoading: true\r\n    }\r\n  },\r\n  created () {\r\n    const { id: userId } = this.$route.params\r\n    this.fetchfollowings(userId)\r\n    this.fetchfollowers(userId)\r\n    this.fetchUserProfile(userId)\r\n  },\r\n  beforeRouteUpdate (to, from, next) {\r\n    const { id: userId } = to.params\r\n    this.fetchfollowings(userId)\r\n    this.fetchfollowers(userId)\r\n    this.fetchUserProfile(userId)\r\n    next()\r\n  },\r\n  methods: {\r\n    toggleFollowStatus (status) {\r\n      this.followStatus = status\r\n    },\r\n    async fetchfollowings (userId) {\r\n      try {\r\n        const response = await usersAPI.getFollowings({ userId })\r\n        const data = response.data\r\n        this.followings = [...data]\r\n        this.isLoading = false\r\n      } catch (error) {\r\n        this.isLoading = false\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法取得追蹤者資料，請稍後再試'\r\n        })\r\n      }\r\n    },\r\n    async fetchfollowers (userId) {\r\n      try {\r\n        const response = await usersAPI.getFollowers({ userId })\r\n        const data = response.data\r\n        this.followers = [...data]\r\n        this.isLoading = false\r\n      } catch (error) {\r\n        this.isLoading = false\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法取得追蹤者資料，請稍後再試'\r\n        })\r\n      }\r\n    },\r\n    async fetchUserProfile (userId) {\r\n      const { data } = await usersAPI.getProfile({ userId })\r\n      if (data.status !== 'success') {\r\n        throw new Error(data.message)\r\n      }\r\n      const { id, account, name, tweetsCounts } = data\r\n      this.profile = {\r\n        id, account, name, tweetsCounts\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.center-section {\r\n  position: relative;\r\n}\r\n.follow-center-container {\r\n  border-left: 1px solid var(--border);\r\n  border-right: 1px solid var(--border);\r\n  width: 100%;\r\n  height: calc(100vh - 127px);\r\n  overflow-y: overlay;\r\n  overflow-x: hidden;\r\n  margin-top: 127px;\r\n  position: relative;\r\n  z-index: 50;\r\n  padding-right: 8px;\r\n}\r\n.follow-header {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 127px;\r\n  border-bottom: 1px solid var(--border);\r\n  z-index: 50;\r\n  background-color: var(--dark-0);\r\n  display: grid;\r\n  grid-template-rows: 60% 40%;\r\n  align-items: flex-start;\r\n  top: 0;\r\n  border-left: 1px solid var(--border);\r\n  border-right: 1px solid var(--border);\r\n}\r\n\r\n.header-top {\r\n  margin-left: 15px;\r\n}\r\n\r\n.header-top,\r\n.navtabs {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  height: 100%;\r\n  width: 100%;\r\n  border-top: 1px solid var(--border);\r\n}\r\n\r\n.button-navtabs {\r\n  height: 100%;\r\n  width: 100%;\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  width: 130px;\r\n  border-bottom: 2px solid #fff;\r\n}\r\n\r\n.icon-back {\r\n  width: 24px;\r\n  height: 24px;\r\n  cursor: pointer;\r\n}\r\n\r\n.title-container {\r\n  margin-left: 15px;\r\n}\r\n\r\n.subtitle {\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: var(--secondary);\r\n}\r\n\r\n.button-navtabs.active {\r\n  border-bottom: 2px solid var(--brand-color);\r\n}\r\n\r\n.subtitle.active {\r\n  color: var(--brand-color);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollower.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollower.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollower.vue?vue&type=template&id=6eea874c&scoped=true&\"\nimport script from \"./UserFollower.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollower.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserFollower.vue?vue&type=style&index=0&id=6eea874c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6eea874c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollower.vue?vue&type=style&index=0&id=6eea874c&prod&scoped=true&lang=css&\""],"sourceRoot":""}